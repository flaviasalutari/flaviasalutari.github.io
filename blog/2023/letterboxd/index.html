<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Unveiling cinematic insights: analyzing my Letterboxd data </title>
<meta name="description" content="Introduction">


<link rel="stylesheet" href="/css/main.css">
<link rel="canonical" href="https://flaviasalutari.github.io//blog/2023/letterboxd/">
<link rel="alternate" type="application/rss+xml" title="Flavia Salutari's Website" href="https://flaviasalutari.github.io//feed.xml" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52446115-1', 'auto');
  ga('send', 'pageview');
</script>


</head>
<body>
  <header class="site-header">
  <div class="container">
    <input type="checkbox" id="toggleNavbar">
    <h1 class="logo"><a href="/">flavia<span>salutari</span> <small></small></a></h1>
    <label for="toggleNavbar" role="button" class="toggle-navbar-button">
      <i class="icon icon-menu"></i>
      <i class="icon icon-cross"></i>
    </label>
    <nav class="navbar">
      <ul>
        <li><a href="/" title="Home">Home</a></li>
        
          <li><a href="/about" title="About">About</a></li>
        
          <li><a href="/blog" title="Blog">Blog</a></li>
        
          <li><a href="/teaching" title="Teaching">Teaching</a></li>
        
          <li><a href="/publications" title="Publications">Publications</a></li>
        
        <li><a href="http://flaviasalutari.github.io/resume">Resume</a></li>
<!--         <li><a href="https://github.com/flaviasalutari/flaviasalutari.github.io/archive/master.zip" title="Download">Resume</a></li>
 -->        
 <!-- <li><a href="/feed.xml" target="_blank"><i class="icon icon-rss"></i></a></li> -->
      </ul>
    </nav>
  </div>
</header>


<main class="main-container">
  <div class="container">
    <article role="article" class="post">

  <div class="card">
    <header class="post-header">
      <h1 class="post-title">Unveiling cinematic insights: analyzing my Letterboxd data </h1>
      <em class="post-meta">
        <time>Jul 29, 2023</time>
      </em>
    </header>

    <div class="post-content">
      
        <figure class="post-thumbnail ">
          <img src="/images/letterboxd/barbie.jpeg" alt="Unveiling cinematic insights: analyzing my Letterboxd data ">
        </figure>
      
      <h2 id="introduction">Introduction</h2>

<p>Letterboxd is a fantastic platform for film enthusiasts to track and share their movie-watching experiences. 
Apart from being a hub for movie reviews and social interaction, it also provides a valuable dataset that can be harnessed to gain insightful statistics about your film preferences and habits. In this blog post, I will guide you through the process of extracting and analyzing your Letterboxd data, enabling you to uncover intriguing patterns and trends hidden within your cinematic journey.</p>

<h2 id="step-1-exporting-your-letterboxd-data">Step 1: Exporting Your Letterboxd Data</h2>

<p>To get started, you need to export your Letterboxd data. Follow these steps:</p>

<ul>
  <li>Log in to your Letterboxd account.</li>
  <li>Click on your profile picture and select “Settings.”</li>
  <li>Scroll down to the “Data Export” section.</li>
  <li>Click on the “Request Data Export” button.</li>
  <li>Wait for an email notification confirming that your data is ready for download.</li>
</ul>

<p>Once you receive the email, download the data export file. It will likely be in a compressed format, such as ZIP. Unzip the file to access the data in a CSV format.</p>

<p>To get started, we load our data from two CSV files: <code>watched.csv</code> containing details about the movies we’ve watched and <code>ratings.csv</code> containing our ratings for those movies. We then merge these datasets on common columns: <code>'Date'</code>, <code>'Name'</code>, <code>'Year'</code>, and <code>'Letterboxd URI'</code>.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">WATCHED_DATA_FILE</span> <span class="o">=</span> <span class="s2">&quot;/path/to/watched.csv&quot;</span>
<span class="n">RATING_DATA_FILE</span> <span class="o">=</span> <span class="s2">&quot;/path/to/ratings.csv&quot;</span>

<span class="n">watched_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">WATCHED_DATA_FILE</span><span class="p">)</span>
<span class="n">rating_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">RATING_DATA_FILE</span><span class="p">)</span>

<span class="n">watched_movies</span> <span class="o">=</span> <span class="n">watched_data</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">rating_data</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Date&quot;</span><span class="p">,</span> <span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Year&quot;</span><span class="p">,</span> <span class="s2">&quot;Letterboxd URI&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span>
<span class="p">)</span></code></pre></figure>

<h2 id="step-2-enriching-genre-director-and-runtime-information">Step 2: Enriching Genre, Director, and Runtime Information</h2>

<p>We complement our dataset by fetching genre, director, and runtime information from the TMDb API (I relied on the tmdbsimple wrapper) using the <code>fetch_movie_details</code> function. 
Replace <code>YOUR_API_KEY</code> with your actual TMDb API key, which you can obtain by signing up for a free TMDb account and generating an API key.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="kn">import</span> <span class="nn">tmdbsimple</span> <span class="k">as</span> <span class="nn">tmdb</span>

<span class="k">def</span> <span class="nf">fetch_movie_details</span><span class="p">(</span><span class="n">movie_name</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">search</span> <span class="o">=</span> <span class="n">tmdb</span><span class="o">.</span><span class="n">Search</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">movie</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="n">movie_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">search</span><span class="o">.</span><span class="n">results</span><span class="p">:</span>
            <span class="n">movie_id</span> <span class="o">=</span> <span class="n">search</span><span class="o">.</span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;id&quot;</span><span class="p">]</span>
            <span class="n">movie</span> <span class="o">=</span> <span class="n">tmdb</span><span class="o">.</span><span class="n">Movies</span><span class="p">(</span><span class="n">movie_id</span><span class="p">)</span>
            <span class="n">details</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;Genre&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">genre</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">genre</span> <span class="ow">in</span> <span class="n">movie</span><span class="o">.</span><span class="n">info</span><span class="p">()[</span><span class="s2">&quot;genres&quot;</span><span class="p">]],</span>
                <span class="s2">&quot;Director&quot;</span><span class="p">:</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="p">[</span>
                        <span class="n">crew</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                        <span class="k">for</span> <span class="n">crew</span> <span class="ow">in</span> <span class="n">movie</span><span class="o">.</span><span class="n">credits</span><span class="p">()[</span><span class="s2">&quot;crew&quot;</span><span class="p">]</span>
                        <span class="k">if</span> <span class="n">crew</span><span class="p">[</span><span class="s2">&quot;job&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Director&quot;</span>
                    <span class="p">]</span>
                <span class="p">),</span>
                <span class="s2">&quot;Runtime&quot;</span><span class="p">:</span> <span class="n">movie</span><span class="o">.</span><span class="n">info</span><span class="p">()[</span><span class="s2">&quot;runtime&quot;</span><span class="p">],</span>
                <span class="c1"># Add more details as needed</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">details</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Movie with name &#39;</span><span class="si">{</span><span class="n">movie_name</span><span class="si">}</span><span class="s2">&#39; not found.&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="p">{}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error occurred while fetching details for movie &#39;</span><span class="si">{</span><span class="n">movie_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{}</span>

<span class="n">tmdb</span><span class="o">.</span><span class="n">api</span> <span class="o">=</span> <span class="s1">&#39;YOUR_API_KEY&#39;</span> <span class="c1"># Set your TMDb API key here</span>
<span class="n">watched_movies</span><span class="p">[</span><span class="s1">&#39;Movie Name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">watched_movies</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># Remove leading/trailing whitespace</span>
<span class="n">movie_details</span> <span class="o">=</span> <span class="n">watched_movies</span><span class="p">[</span><span class="s1">&#39;Movie Name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">fetch_movie_details</span><span class="p">)</span>

<span class="c1"># Update the respective columns in the watched_movies DataFrame</span>
<span class="n">watched_movies</span><span class="p">[</span><span class="s1">&#39;Genre&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">movie_details</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Genre&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="n">watched_movies</span><span class="p">[</span><span class="s1">&#39;Director&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">movie_details</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Director&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="n">watched_movies</span><span class="p">[</span><span class="s1">&#39;Runtime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">movie_details</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Runtime&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span></code></pre></figure>

<h2 id="step-3-key-analyses">Step 3: Key Analyses</h2>
<p>Let’s now perform an Exploratory Data Analysis (EDA) to gain insights on your watching habits.</p>

<p>During my journey, I discover that I logged 391 watched movies, of which I rated 118 and my average rating is 3.40.</p>

<h3 id="month-seasonality">Month seasonality</h3>
<p>Let’s visualize the distribution of movies watched over time.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="c1"># Count the number of movies watched per month</span>
<span class="n">movies_watched_by_month</span> <span class="o">=</span> <span class="n">watched_movies</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">watched_movies</span><span class="p">[</span><span class="s2">&quot;Date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">))[</span>
    <span class="s2">&quot;Name&quot;</span>
<span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># Plotting a bar chart of number of movies watched per month</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">movies_watched_by_month</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">movies_watched_by_month</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;muted&quot;</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Month&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Number of Movies Watched&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Number of Movies Watched Over Time&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p><br /><br /></p>
<center><img src="/images/letterboxd/temporal.png" width="800" /></center>
<p><br /><br /></p>

<p>It came as no surprise that during covid lockdowns in 2020 and 2021 I watched a looooot of movies. This July 2023 is different from the others as I managed to go everyday to the Dolce Vita sur Seine open air cinema festival and was able to watch a lot of stuff. Moreover, the weather in Paris this summer is awful, so late sunsets at Paris Plage are replaced with the vision of movies. Last but not least, it is <span style="color: #E0218A"><strong>Barbie</strong></span> month!</p>

<h3 id="day-of-week-seasonality">Day of week seasonality</h3>
<p>Let’s visualize the seasonality of movies watched over time.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="n">watched_movies</span><span class="p">[</span><span class="s2">&quot;Date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">watched_movies</span><span class="p">[</span><span class="s2">&quot;Date&quot;</span><span class="p">])</span>
<span class="n">watched_movies</span><span class="p">[</span><span class="s1">&#39;Day of Week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">watched_movies</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">day_name</span><span class="p">()</span>

<span class="c1"># Count the number of movies watched on each day of the week</span>
<span class="n">movies_watched_by_day</span> <span class="o">=</span> <span class="n">watched_movies</span><span class="p">[</span><span class="s1">&#39;Day of Week&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="c1"># Sort the days of the week in the correct order</span>
<span class="n">days_order</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Monday&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span> <span class="s1">&#39;Friday&#39;</span><span class="p">,</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">,</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">]</span>
<span class="n">movies_watched_by_day</span> <span class="o">=</span> <span class="n">movies_watched_by_day</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">days_order</span><span class="p">)</span>


<span class="c1"># Calculate the total count of rated movies</span>
<span class="n">total_rated_movies</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">watched_movies</span><span class="p">)</span>

<span class="c1"># Normalize the values to get the relative percentage of movies watched on each day</span>
<span class="n">relative_movies_watched_by_day</span> <span class="o">=</span> <span class="n">movies_watched_by_day</span> <span class="o">/</span> <span class="n">total_rated_movies</span> <span class="o">*</span> <span class="mi">100</span>

<span class="c1"># Create a nicer bar plot to visualize the distribution of movies watched on each day of the week</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">movies_watched_by_day</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">movies_watched_by_day</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Day of Week&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Percentage of Movies Watched&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Seasonality of Movie Watching by Day of Week&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Add annotations above each bar with the percentage</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">percentage</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">movies_watched_by_day</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">relative_movies_watched_by_day</span><span class="o">.</span><span class="n">values</span><span class="p">)):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">percentage</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>


<span class="c1"># Add a background grid</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;pictures/</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">.png&quot;</span><span class="p">,</span> <span class="n">dpi</span> <span class="o">=</span> <span class="mi">600</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p><br /><br /></p>
<center><img src="/images/letterboxd/seasonality.png" width="700" /></center>
<p><br /><br /></p>

<p>It looks like my preferred day of week to watch movies is… Monday?! 40% of the movies I watched in these years have been watched on Sundays and Mondays. Nice. I did not expect this.</p>

<h3 id="preferred-genres">Preferred Genres</h3>
<p>Let’s now look at the the distribution of my watched genres.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="c1"># Extracting and counting genres for watched movies</span>
<span class="n">genres</span> <span class="o">=</span> <span class="n">watched_movies</span><span class="p">[</span><span class="s2">&quot;Genre&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">stack</span><span class="p">()</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="c1"># Plotting a bar chart of most watched genres</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">genres</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">genres</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;viridis&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Genre&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Number of Films Watched&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Most Watched Genres&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p><br /><br /></p>
<center><img src="/images/letterboxd/genres.png" width="800" /></center>
<p><br /><br /></p>

<p>Favourite genre is drama for a drama queen.</p>

<h3 id="movie-ratings">Movie Ratings</h3>
<p>Let’s visualize the distribution of my ratings.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="c1"># Plot a histogram of film ratings for rated movies</span>
<span class="n">rated_movies</span> <span class="o">=</span> <span class="n">watched_movies</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Rating&quot;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">bin_edges</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">/</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">21</span><span class="p">)]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">rated_movies</span><span class="p">[</span><span class="s2">&quot;Rating&quot;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="n">bin_edges</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">bin_edges</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Rating&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Frequency&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribution of Film Ratings (Rated Movies)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p><br /><br /></p>
<center><img src="/images/letterboxd/ratings.png" width="650" /></center>
<p><br /><br /></p>

<p>I never gave a 0.5, such a gentle spectator I am!</p>

<h3 id="average-rating-and-film-count-by-release-year">Average Rating and Film Count by Release Year</h3>
<p>I’ll now calculate the number of films watched for each release year, and then I’ll plot both my average rating and the film count.</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span></span><span class="c1"># Group the rated movies by their release year and calculate the average rating and count of films watched for each year</span>
<span class="n">average_ratings_by_year</span> <span class="o">=</span> <span class="n">rated_movies</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Year&quot;</span><span class="p">)[</span><span class="s2">&quot;Rating&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">film_count_by_year</span> <span class="o">=</span> <span class="n">rated_movies</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="c1"># Create a figure with two subplots sharing the x-axis</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Plot the average ratings on the first subplot (left y-axis)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">average_ratings_by_year</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">average_ratings_by_year</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Average Rating&#39;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Release Year&quot;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Average Rating&quot;</span><span class="p">)</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Average Rating and Film Count by Release Year&quot;</span><span class="p">)</span>

<span class="c1"># Plot the film count on the second subplot (right y-axis)</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>  <span class="c1"># Create a second y-axis that shares the same x-axis</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">film_count_by_year</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">film_count_by_year</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Film Count&#39;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Film Count&quot;</span><span class="p">)</span>

<span class="c1"># Show gridlines for both subplots</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Combine legends from both subplots</span>
<span class="n">lines</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">lines2</span><span class="p">,</span> <span class="n">labels2</span> <span class="o">=</span> <span class="n">ax2</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">lines</span> <span class="o">+</span> <span class="n">lines2</span><span class="p">,</span> <span class="n">labels</span> <span class="o">+</span> <span class="n">labels2</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>

<span class="c1"># Show the plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p><br /><br /></p>
<center><img src="/images/letterboxd/release_year.png" width="800" /></center>
<p><br /><br /></p>

<p>I should definitely fill the gap of movies released in the 70s.</p>

<h2 id="conclusion">Conclusion</h2>

<p>This analysis offered a unique perspective into my movie-watching preferences, highlighting preferred genres, and the presence of a particular day dominance in my movie-watching routine. By leveraging data-driven insights, I can make more informed decisions when selecting movies and continue to enrich my cinematic experience. Too bad that no dataset can (yet) tell me how many times I fell asleep before being able to finish the movies I logged!</p>


    </div>

    
<hr>

<aside id="comments" class="disqus">
  <h3><i class="icon icon-comments-o"></i> Comments</h3>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function() {
      this.page.url = 'https://flaviasalutari.github.io//blog/2023/letterboxd/';
      this.page.identifier = '/blog/2023/letterboxd';
    };
    (function() {
      var d = document,
      s = d.createElement('script');
      s.src = '//flaviasalutari.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</aside>


  </div>

</article>

  </div>
</main>

<footer class="site-footer">
  <div class="container">
    <ul class="social">


  <li><a href="https://github.com/flaviasalutari" target="_blank"><i class="icon icon-github"></i></a></li>
  <!-- <li><a href="https://twitter.com/fsalutari" target="_blank"><i class="icon icon-twitter"></i></a></li> -->
<!--   <li><a href="" target="_blank"><i class="icon icon-facebook"></i></a></li>-->  
<li><a href="https://www.linkedin.com/in/flaviasalutari/" target="_blank"><i class="icon icon-linkedin"></i></a></li>
<li><a href="/assets/flaviasalutariCV_eng_2023.pdf" target="_blank"><i class="icon icon-cloud-download"></i></a></li>
<li><a href="https://scholar.google.fr/citations?user=vfZgNcwAAAAJ&hl" target="_blank"><i class="icon icon-pencil"></i></a></li>
<br><li><a href="/indit"><img src="https://flaviasalutari.github.io//assets/flagit.png" width="30" height="20"></a></li>
<li><a href="/indfr"><img src="https://flaviasalutari.github.io//assets/flagfr.png" width="30" height="20"></a></li>

</ul>
    <p class="txt-medium-gray">
      <small>&copy;2024 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small>
    </p>
  </div>
  

</footer>


<script>
$(document).ready(function(){
    var str =$(this).attr('id');
    
    $(".btnId").click(function(){
        var str = $(this).attr('id');
        var ret = str.split("_");
        var id = ret[1];
        $('#' + id).toggle();
    });
});
</script>


<!--   <a href="https://github.com/flaviasalutari/flaviasalutari.github.io" target="_blank" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#337ab7; color:#fff; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>
 -->
 	
 </body>
</html>
